{% extends "documentation/base.html" %}

{% block main %}
<h2>Examples</h2>

<p>This page gathers some useful examples of API queries.</p>

<h5>List taxis near location</h5>

<pre class="code">
  curl                                 \
    -X GET                             \
    -H "Accept: application/json"      \
    -H "X-VERSION: 2"                  \
    -H "X-API-KEY: XXX"                \
    "api.taxi/taxis/?lat=48.8&lon=2.3"
</pre>

<h5>Free a taxi</h5>

<pre class="code">
  curl                                  \
    -X PUT                              \
    -H "Accept: application/json"       \
    -H "X-VERSION: 2"                   \
    -H "Content-Type: application/json" \
    -H "X-API-KEY: XXX"                 \
    -d '{"data": [{"status": "free"}]}' \
    "api.taxi/taxis/taxi_id/"
</pre>

<h5>Create hail</h5>

<pre class="code">
  curl                                            \
    -X POST                                       \
    -H "Accept: application/json"                 \
    -H "X-VERSION: 2"                             \
    -H "Content-Type: application/json"           \
    -H "X-API-KEY: XXX"                           \
    -d '{"data": [{                               \
          "customer_address": "customer address", \
          "customer_id": "0656435678",            \
          "customer_lat": 48.8,                   \
          "customer_lon": 2.3,                    \
          "customer_phone_number": "0656435678",  \
          "operateur": "operator",                \
          "taxi_id": "taxi_id"                    \
    }]}'                                          \
    "api.taxi/hails/hail_id/"
</pre>

<h5>Set status hail to received_by_taxi</h5>

<pre class="code">
  curl                                  \
    -X PUT                              \
    -H "Accept: application/json"       \
    -H "X-VERSION: 2"                   \
    -H "Content-Type: application/json" \
    -H "X-API-KEY: XXX"                 \
    -d '{"data": [{                     \
          "status": "received_by_taxi"  \
    }]}'                                \
    "api.taxi/hails/hail_id/"
</pre>

<h5>Set status hail to accepted_by_customer</h5>

<pre class="code">
  curl                                     \
    -X PUT                                 \
    -H "Accept: application/json"          \
    -H "X-VERSION: 2"                      \
    -H "Content-Type: application/json"    \
    -H "X-API-KEY: XXX"                    \
    -d '{"data": [{                        \
          "status": "accepted_by_customer" \
    }]}'                                   \
    "api.taxi/hails/hail_id/"
</pre>
{% endblock %}
