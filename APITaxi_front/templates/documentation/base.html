{% extends "base.html" %}

{% block title %}Documentation{% endblock %}

{% macro display_submenu(items) %}
  <ul class="list-unstyled">
  {% for url, output in items %}
    <li><a href="{{ url }}">{{ output }}</a></li>
  {% endfor %}
  </ul>
{% endmacro %}

{% block content %}
<div class="page-sidebar">
  <nav>
    <ul class="list-unstyled">
      <li>
        <a{% if request.path == url_for('documentation.index') %} class="active"{% endif %} href="{{ url_for('documentation.index') }}">Introduction</a>
        {% if request.path == url_for('documentation.index') %}
          {{ display_submenu(submenus) }}
        {% endif %}
      </li>

      <li>
        <a{% if request.path == url_for('documentation.search') %} class="active"{% endif %} href="{{ url_for('documentation.search') }}">Moteur de recherche</a>
        {% if request.path == url_for('documentation.search') %}
          {{ display_submenu(submenus) }}
        {% endif %}
      </li>

      <li>
        <a{% if request.path == url_for('documentation.operator') %} class="active"{% endif %} href="{{ url_for('documentation.operator') }}">Operateur</a>
        {% if request.path == url_for('documentation.operator') %}
          {{ display_submenu(submenus) }}
        {% endif %}
      </li>

      <li>
        <a href="{{ url_for('documentation.reference') }}">Documentation référence</a>
      </li>

      <li>
        <a{% if request.path == url_for('documentation.examples') %} class="active"{% endif %} href="{{ url_for('documentation.examples') }}">Exemples</a>
        {% if request.path == url_for('documentation.examples') %}
          {{ display_submenu(submenus) }}
        {% endif %}
      </li>
    </ul>
  </nav>

  <main>
  {% block main %}{% endblock %}
  </main>
</div>
{% endblock %}
